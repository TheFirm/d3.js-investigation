
d3.svg.brush() - створює на svg прямокутну зону, в межах якої можна мишкою вибрати певну її частину, це просте виділення мишкою

використання:
.........

someSvgContainer.call (                 // зазвичай в окремому "g" контейнері
    d3.svg.brush()                      // створення brush
        .x(xScale)                      // задаємо scale для ширини
        .y(yScale)                      // задаємо scale для висоти
        .on("brushstart", callback1)    // event при початку виділення області
        .on("brush", callback2)         // event зміни розміру або переміщення області
        .on("brushend", callback3)      // event викликається після того коли юзер змінив/перемістив виділену область
                                        // і відпустив мишку. Якщо клікнути поза виділеною областю то виділення зникає (розмір області width=0, height=0),
                                        // і event викликається також
);

.........

Brush створює в контейнері 2 rect елементи.

<rect class="background" x="0" width="940" y="0" height="940" ></rect>  - зона, в межах якої можна щось виділити
<rect class="extent" x="508" width="0" y="98" height="0"></rect> - виділена зона

Також по краях extent області створюються крихітні "g" елементи які дозволяють робити мишкою resize виділеної області
А extent область можна перетягувати мишкою

В d3 часто доступаються до .extent області по css класу

Розмір brush'a визначається розмірами інтерваів .range() переданих йому scale'ів.

    Якщо задати тільки .x() або тільки .y() то виділення буде лише по горизонталі/вертикалі (як смуга прокрутки).
У такому випадку можна програмно задати ширину/висоту якої не вистачає.
.....................................................................
svg.append("g")
            .attr("class", "brush")
            .call(d3.svg.brush().x(x)               // не задано .y() scale для height
                    .on("brushstart", brushstart)
                    .on("brush", brushmove)
                    .on("brushend", brushend))
            .selectAll("rect")
            .attr("height", height);                // задаємо height для background, extent областей
......................................................................

Якщо задати два scale'и - .x() та .y() то виділення буде двовимірне

У обробниках brushstart i brushend задають реакцію на початок/кінець виділення

У обробнику brush івента можна міняти різні елементи, які потрапили під виділення.
Використовуються:
    d3.event.mode - набуває значень 'move' / 'resize', залежить що робиться з виділеною областю

    d3.event.target.extent()  - повертає координати виділеної області

    d3.event.target.empty() рівне true якщо виділена область має нульовий розмір